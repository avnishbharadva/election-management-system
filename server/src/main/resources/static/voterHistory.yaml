openapi: 3.0.3
info:
  title: History Management APIs
  description: APIs for Voter History management
  version: 1.0.0

servers:
  - url: http://localhost:8082/api

paths:
  /history/name/{voterId}:
    get:
      summary: Get Name History by Voter Id
      operationId: nameHistory
      tags:
        - History
      parameters:
        - name: voterId
          in: path
          required: true
          description: Unique ID of the Voter
          schema:
            type: string
            example: "000000001"
      responses:
        "200":
          description: Name History retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/NameHistoryDTO"
        "404":
          description: Voter not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /history/status/{voterId}:
    get:
      summary: Get Status History by Voter Id
      operationId: statusHistory
      tags:
        - History
      parameters:
        - name: voterId
          in: path
          required: true
          description: Unique ID of the Voter
          schema:
            type: string
            example: "000000001"
      responses:
        "200":
          description: Status History retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StatusHistoryDTO"
        "404":
          description: Voter not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /history/address/{voterId}:
    get:
      summary: Get Address History by Voter Id
      operationId: addressHistory
      tags:
        - History
      parameters:
        - name: voterId
          in: path
          required: true
          description: Unique ID of the Voter
          schema:
            type: string
            example: "000000001"
      responses:
        "200":
          description: Address History retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AddressHistoryDTO"
        "404":
          description: Voter not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

components:
  schemas:
    NameHistoryDTO:
      $ref: "./schemas/nameHistoryDTO.yaml"
    StatusHistoryDTO:
      $ref: "./schemas/statusHistoryDTO.yaml"
    AddressHistoryDTO:
      $ref: "./schemas/addressHistoryDTO.yaml"
    ErrorResponse:
      $ref: "./schemas/errorResponse.yaml"